#### {"title": "Как пофиксить Memory Leak Minecraft'а 1.16.5+", "ignoreList": true}

# Как пофиксить **Memory Leak (Утечку памяти)** Minecraft'а 1.16.5+
> Автор: [@ImGRUI](//github.com/ImGRUI)

Многие из чатеров (в том числе и Пугод) испытывают злощастную проблему: В долгой сессии майнкрафта память утекает и начинаются фризы. Проблема эта решаемая, но нужно будет немножко попотеть.
	
Первый этап: ModernFix.
---

 - Поставьте/обновите мод ModernFix до версии [5.10.0](https://modrinth.com/mod/modernfix/version/5.10.0+mc1.20.1), если вы используете сборку Пугода или мод MoreCulling, в остальных случаях можете поставить версию выше и новее.
 
 - Скачайте [этот конфиг](https://kappa.lol/4UAhN) и скопируйте его в папку .minecraft\config.
 
 - Запустите игру и убедитесь, что в моде ModernFix включен mixin.bugfix.packet_leak.
 
Второй этап: Установка Java 21 и включение нового сборщика мусора.
---

 - Скачайте [Java 21](https://www.oracle.com/cis/java/technologies/downloads/#jdk21-windows) и установите её.
 
 - Если вы используете MultiMC/Prism Launcher (люди с MultiMC перейдите на Prism пожалуйста), выставите эту джаву глобально или в отдельной сборке. Если вы используете другие лаунчеры, Modrinth или, не дай бог, официальный или, ещё хуже, CurseForge, я вам не помогу с этим пунктом.
 
 - Далее, самый важный шаг. Зайдите в глобальные или локальные (для отдельной сборки) [настройки аргументов джавы](https://kappa.lol/xvmSi), и впишите следующие:
 ```-XX:+UseZGC -XX:+ZGenerational```

![kappa.lol](https://kappa.lol/xvmSi) 


 - Зайдите в игру и убедитесь, что сборщик мусора работает. Определить это можно по потреблению памяти в F3: Она должна очищаться когда достигает 99 процентов.
 
После данных махинаций вы больше не должны встретится с утекающим майнкрафтом.
